# Bank API

REST API сервис для управления банковскими аккаунтами, платежами, кредитами и транзакциями.

---

## Текущий функционал

- **Пользователи**
  - Регистрация и аутентификация (JWT)
  - Просмотр профиля пользователя

- **Аккаунты и карты**
  - Создание и управление банковскими аккаунтами
  - Создание, блокировка и удаление банковских карт
  - Поддержка шифрования данных карт

- **Транзакции**
  - Пополнение и списание средств (депозит/вывод)
  - Переводы между счетами
  - История транзакций по аккаунту
  - Частичное и полное погашение кредитов

- **Кредиты**
  - Оформление кредита
  - Управление кредитным балансом и платежами
  - Учет ключевой ставки ЦБ РФ для расчёта процентов

- **Платежи и платежные методы**
  - Интеграция с внешними платежными провайдерами (Stripe, YooMoney)
  - Обработка платежей и возврат средств (refund)
  - Управление способами оплаты пользователя

- **Безопасность**
  - Middleware для JWT аутентификации и авторизации
  - Шифрование и HMAC проверка данных карт
  - Логирование и обработка ошибок

- **Миграции базы данных**
  - Автоматический запуск миграций при старте приложения

---

## Планируемые доработки

- **Тестирование**
  - Написание unit и интеграционных тестов для всех сервисов и репозиториев
  - Покрытие тестами основных сценариев работы API

- **Документация API**
  - Автоматическая генерация OpenAPI (Swagger) спецификации и UI для удобства разработки и тестирования

- **Расширение функционала платежей**
  - Добавление новых платежных провайдеров
  - Поддержка рекуррентных платежей и подписок

- **Улучшение безопасности**
  - Реализация более гибкой политики прав доступа (RBAC)
  - Мониторинг и аудит действий пользователей

- **Оптимизация и масштабируемость**
  - Внедрение кэширования
  - Горизонтальное масштабирование сервиса

- **Административная панель**
  - Веб-интерфейс для управления пользователями, платежами и кредитами

---

## Технологии

- Go, PostgreSQL
- Gorilla Mux
- SQLX, golang-migrate
- JWT, bcrypt, PGP, HMAC
- Внешние платежные провайдеры: Stripe, YooMoney

---

## Как запустить

1. Клонируйте репозиторий

2. Создайте и настройте файл конфигурации `configs/config.yaml`

3. Запустите миграции базы данных:

```bash
go run cmd/migrate/main.go